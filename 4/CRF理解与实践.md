#  CRF：理解与实践



从概率图模型开始讲起：

概率图模型----用图结构来描述多元随机变量之间条件独立关系的概率模型



图模型的是哪个基本问题：

1. 表示问题：对于概率问题，怎么用图结构表示。
2. 学习问题：对于图结构的学习和对参数的学习，目前只关注对参数的学习。
3. 推断问题：已知部分变量的时候，计算别的变量的条件概率。

图分为两类：

1. 有向图：贝叶斯网络。常见的模型比如：
   * 朴素贝叶斯网络
   * 隐马尔科夫模型
2. 无向图：马尔科夫随机场。常见的模型比如：
   * 对数线性模型（最大熵模型）
   * 条件随机场（CRF）

对于各个概念的理解：

来源:[如何用简单易懂的例子解释条件随机场（CRF）模型？它和HMM有什么区别？ ](https://www.zhihu.com/question/35866596/answer/74187736)

马马尔科夫独立性假设：对一个节点，在给定他所连接的所有节点的前提下，他与外界是独立的。也就是这个节点只和和其连接的节点相关。

马尔可夫随机场：满足马尔可夫独立性的随机场。

对于边的建模：不像贝叶斯的条件概率，而是直接用联合分布的形式建模。*这样出来的图是等价于吉布斯分布的，就是说，你可以只在每个最大子团上定义一个联合分布（而不需要对每个边定义一个联合分布），整个图的联合概率分布就是这些最大子团的联合概率分布的乘积。*---这一段话不是很理解就暂时记忆，大概能够get到意思。

条件随机场：条件随机场是指在马尔科夫随机场里面一些点我已经观测到了，求，在我观测到这些点的前提下，整张图的分布是怎样的。他是判别模型。我们后续需要解决的NER问题就是用线性链式条件随机场去做的。

线性条件随机场直观理解：关注的词作为输出，也就是观测检点不具有依赖关系，因为他们已经被观察到了。隐节点/隐状态/标签/POS属性，是否是地名，人名之类的，它们依次按照顺序排开。相邻的节点之间有边表示关联，跨节点之间没有边。所有的观测检点作用于隐节点。



CRF的问题：

当前的输出只和上一级的输出有关，以及当前的输入有关，没有全局信息。

LSTM问题：

只能获得全局的一个正确性，在局部上会出现非常不可思议的错误。
